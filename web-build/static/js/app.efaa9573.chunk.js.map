{"version":3,"sources":["context/ThemeProvider.tsx","components/Header.tsx","context/CategoryContext.tsx","controllers/api.ts","components/SectionHeader.tsx","components/utils.ts","screens/HomeScreen.tsx","components/Switch.tsx","screens/SettingsScreen.tsx","components/NativeWebview.tsx","screens/WebViewScreen.tsx","App.tsx","hooks/useCachedResources.js","assets/fonts/SpaceMono-Regular.ttf"],"names":["themeContextDefaultValue","setState","state","colorScheme","ThemeContext","React","createContext","ThemeProvider","children","useState","Provider","value","Header","props","colors","useTheme","theme","useContext","View","style","styles","switchContainerStyle","titleWrapper","Text","switchTitleStyle","color","text","switchWrapperStyle","onChange","StyleSheet","create","alignItems","flexDirection","minHeight","padding","flex","fontSize","fontWeight","paddingLeft","paddingRight","justifyContent","position","CategoryContext","htmlFilename","title","createApiEndpoint","domainToUse","endpoint","proxy","init","headers","Accept","method","listCategories","mostPopularName","genericNewsURLPart","latestName","useToRetrieveLists","categories","popular","depth","sectionID","selected","push","latest","url","apiRequest","Request","response","fetch","json","responseData","forEach","entry","item","key","error","console","Error","message","container","alignSelf","paddingVertical","SectionHeader","section","backgroundColor","background","getOrder","datetime","startDate","DateTime","fromISO","diff","now","toObject","days","hours","minutes","timeSince","diffNow","Math","abs","articleContainer","contentContainer","description","marginTop","minWidth","entryContainer","paddingHorizontal","paddingTop","entryContent","entryImage","height","width","footerContainer","bottom","left","right","Platform","select","android","elevation","ios","shadowColor","shadowOffset","shadowOpacity","shadowRadius","footerInfoText","textAlign","linkText","source","Homescreen","navigation","sections","setSections","loading","setLoading","setError","useEffect","then","data","feed","entries","items","i","range","newsEntries","map","article","orderNo","publishedDateJS","publishedDate","toLocal","toFormat","sort","a","b","catch","e","finally","isLoading","ActivityIndicator","animating","isError","contentContainerStyle","card","Object","keys","index","TouchableOpacity","onPress","navigate","link","WebBrowser","Image","uri","picture","author","shortDescription","defaultContainerStyle","defaultDescriptionStyle","defaultDisabledOverlayStyle","top","defaultSwitchWrapperStyle","marginRight","defaultTitleStyle","SettingsSwitch","containerStyle","descriptionStyle","disabled","onValueChange","titleStyle","trackColor","Switch","SettingsScreen","isMobileModeEnabled","setIsMobileModeEnabled","icon","isLastOption","label","log","OptionButton","option","lastOption","optionIconContainer","Ionicons","name","size","optionText","borderBottomWidth","borderColor","marginLeft","iFrameStyles","overflow","NativeWebView","target","OS","src","scalesPageToFit","startInLoadingState","WebViewScreen","route","params","CustomDrawerContent","DrawerContentScrollView","DrawerItemList","Drawer","createDrawerNavigator","Stack","createStackNavigator","Root","Navigator","Screen","component","HomeScreen","options","EmptyScreen","App","isLoadingComplete","setLoadingComplete","SplashScreen","Font","font","require","warn","loadResourcesAndDataAsync","useCachedResources","darkModeEnabled","useColorScheme","setCategories","themeStatusBarStyle","cat","fetchCategories","NavigationContainer","DarkTheme","DefaultTheme","StatusBar","drawerContent","initialRouteName","length","drawerLabel","AppContainer","header","registerRootComponent","module","exports"],"mappings":"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","file":"static/js/app.efaa9573.chunk.js","sourcesContent":["/* eslint-disable react/jsx-no-constructed-context-values */\nimport React from 'react';\n\nexport interface Theme {\n  colorScheme: 'dark' | 'light';\n}\n\ntype ThemeContextState = { colorScheme: string };\n\nconst themeContextDefaultValue = {\n  // eslint-disable-next-line @typescript-eslint/no-empty-function, @typescript-eslint/no-unused-vars\n  setState: (state: ThemeContextState) => {},\n  state: { colorScheme: 'dark' },\n};\n\nexport const ThemeContext = React.createContext(themeContextDefaultValue);\n\nconst ThemeProvider: React.FunctionComponent<{ children: React.ReactElement }> = ({ children }) => {\n  const [state, setState] = React.useState(themeContextDefaultValue.state);\n\n  return <ThemeContext.Provider value={{ setState, state }}>{children}</ThemeContext.Provider>;\n};\n\nexport default ThemeProvider;\n","/* eslint-disable @typescript-eslint/no-use-before-define */\n/* eslint-disable react/forbid-component-props */\n/* eslint-disable @typescript-eslint/no-unused-vars */\n// import { useDispatch, useSelector } from 'react-redux';\nimport { useTheme } from '@react-navigation/native';\nimport Switch from 'expo-dark-mode-switch';\nimport React, { useContext } from 'react';\nimport { StyleSheet, Text, View } from 'react-native';\nimport { ThemeContext } from '../context/ThemeProvider';\n\n// import { toggleTheme } from '../reducers';\n\nconst Header = (props): JSX.Element => {\n  const { colors } = useTheme();\n  const theme = useContext(ThemeContext);\n\n  // const { navigation } = props;\n\n  return (\n    <View style={styles.switchContainerStyle}>\n      <View style={styles.titleWrapper}>\n        <Text style={[styles.switchTitleStyle, { color: colors.text }]}>Highlakka</Text>\n      </View>\n      <View style={styles.switchWrapperStyle}>\n        <Switch\n          onChange={(value) => {\n            theme.setState(value === true ? { colorScheme: 'dark' } : { colorScheme: 'light' });\n          }}\n          value={theme.state.colorScheme === 'dark'}\n        />\n      </View>\n      {/* <Button title=\"S\" onPress={() => navigation.navigate('Settings')} /> */}\n    </View>\n  );\n};\n\nexport default Header;\n\nconst styles = StyleSheet.create({\n  switchContainerStyle: {\n    alignItems: 'center',\n    flexDirection: 'row',\n    minHeight: 25,\n    padding: 0,\n  },\n  switchTitleStyle: {\n    flex: 0,\n    fontSize: 16,\n    fontWeight: 'bold',\n    paddingLeft: 15,\n    paddingRight: 8,\n  },\n  switchWrapperStyle: {\n    flex: 0,\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    paddingLeft: 8,\n    paddingRight: 8,\n  },\n  titleWrapper: { flex: 1, position: 'relative' },\n});\n","/* eslint-disable import/prefer-default-export */\nimport { createContext } from 'react';\n\nconst DEFAULT_CONTEXT = {\n  htmlFilename: 'uutiset',\n  title: 'Uutiset',\n};\n\nexport const CategoryContext = createContext(DEFAULT_CONTEXT);\n","/* eslint-disable @typescript-eslint/no-unsafe-assignment */\n/* eslint-disable guard-for-in */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable @typescript-eslint/no-unnecessary-type-assertion */\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n// import { Platform } from 'react-native';\n\n// import { Language } from '../models/Language';\nimport { Category } from '../models/Category';\n\nconst HIGH_FI_API = 'json-private';\nconst API_KEY = '1234567890';\n// const USER_AGENT = 'Highlakka, (0.0.1)-(1) (RN)';\n// const domainToUse = 'high.fi';\n\n// http://en.high.fi/api/help\n\n// const domainToUse =\n//   Platform.OS === 'web'\n//     ? 'cors-anywhere.herokuapp.com/https://high.fi/'\n//     : 'high.fi';\n\n// const apiEndpoint =\n//   Platform.OS === 'web'\n//     ? 'https://cors-anywhere.herokuapp.com/https://fi.high.fi/uutiset/json-private?APIKEY=1234567890'\n//     : 'https://fi.high.fi/uutiset/json-private?APIKEY=1234567890';\n\n// const proxy = Platform.OS === 'web' ? 'http://0.0.0.0:8080/' : '';\nconst proxy = '';\n\nexport const createApiEndpoint = (domainToUse: string, endpoint: string): string =>\n  `${proxy}https://${domainToUse}/${endpoint}/${HIGH_FI_API}?APIKEY=${API_KEY}`;\n\nexport const init: RequestInit = {\n  headers: {\n    Accept: 'application/json',\n    // FIXME: Can't send User-Agent to high.fi API due CORS\n    // 'User-Agent': USER_AGENT,\n  },\n  method: 'GET',\n};\n\n// export function load(source: Object, domainToUse: string, hideSections: [], onSuccess, onFailure) {\n//     var url = \"http://\" + domainToUse + \"/\" + source.htmlFilename + \"/\" + HIGH_FI_API + \"?APIKEY=\" + API_KEY;\n//     if (hideSections && hideSections.length > 0) {\n//         url +=\"&jsonHideSections=\" + hideSections.join();\n//     }\n//     console.debug(\"highfi.js, load(source=\"  + JSON.stringify(source) + \"), hideSections=\" + hideSections + \", url=\" + url);\n\n//     var req = new XMLHttpRequest;\n//     req.open(\"GET\", url);\n//     req.onreadystatechange = function() {\n//         if (req.readyState === XMLHttpRequest.DONE) {\n//             if (req.status == 200 ) {\n//                 //console.debug(\"200: \" + req.responseText);\n//                 var jsonObject = JSON.parse(req.responseText);\n//                 onSuccess(jsonObject);\n//             } else {\n//                 onFailure(req.status, req.responseText, url);\n//             }\n//         }\n//     }\n\n//     req.setRequestHeader(\"User-Agent\", USER_AGENT);\n//     req.send();\n// }\n\n// export function search(searchText, domainToUse, onSuccess, onFailure) {\n//     // http://high.fi/search.cfm?q=formula&x=0&y=0&outputtype=json-private\n//     var url = \"http://\" + domainToUse + \"/search.cfm?q=\" + searchText + \"&x=0&y=0&outputtype=\" + HIGH_FI_API + \"&APIKEY=\" + API_KEY;\n//     //console.debug(\"highfi.js, search, url=\" + url);\n\n//     var req = new XMLHttpRequest;\n//     req.open(\"GET\", url);\n//     req.onreadystatechange = function() {\n//         if (req.readyState === XMLHttpRequest.DONE) {\n//             if (req.status === 200) {\n//                 //console.debug(req.status +\"; \" + req.responseText);\n//                 var jsonObject = JSON.parse(req.responseText);\n//                 onSuccess(jsonObject);\n//             } else {\n//                 onFailure(req.status, req.statusText, url);\n//             }\n//         }\n//     }\n\n//     req.setRequestHeader(\"User-Agent\", USER_AGENT);\n//     req.send();\n// }\n\n// export function makeHighFiCall(url) {\n//     //console.log(\"makeHighFiCall. url=\" + url);\n\n//     var req = new XMLHttpRequest;\n//     req.open(\"GET\", url);\n//     req.onreadystatechange = function() {\n//         if (req.readyState === XMLHttpRequest.DONE) {\n//             //console.debug(req.status +\"; \" + req.responseText);\n//         }\n//     }\n\n//     req.setRequestHeader(\"User-Agent\", USER_AGENT);\n//     req.send();\n// }\n\n// http://high.fi/api/?act=listLanguages&APIKEY=123456\n// export const listLanguages = async (domainToUse: string) => {\n//   const url = `${createApiEndpoint(domainToUse, '/api/?act=listLanguages')}`;\n//   // console.debug(\"high.js, listLanguages, url=\" + url);\n\n//   const apiRequest = new Request(url, init);\n//   fetch(apiRequest)\n//     .then((response) => {\n//       return response.json();\n//     })\n//     .then((data) => {\n//       // console.debug(data)\n//       // {\n//       //     \"responseData\": {\n//       //       \"supportedLanguages\": [\n//       //           {\n//       //               \"language\": \"Finnish\",\n//       //               \"country\": \"Finland\",\n//       //               \"domainToUse\": \"high.fi\",\n//       //               \"languageCode\": \"fi-fi\",\n//       //               \"mostPopularName\": \"Suosituimmat\",\n//       //               \"latestName\": \"Uusimmat\",\n//       //               \"useToRetrieveLists\": \"finnish\",\n//       //               \"genericNewsURLPart\": \"uutiset\"\n//       //           },\n//       //           {\n//       //               \"language\": \"English\",\n//       //               \"country\": \"United States\",\n//       //               \"domainToUse\": \"en.high.fi\",\n//       //               \"languageCode\": \"en-us\",\n//       //               \"mostPopularName\": \"Most Popular\",\n//       //               \"latestName\": \"Latest News\",\n//       //               \"useToRetrieveLists\": \"english\",\n//       //               \"genericNewsURLPart\": \"news\"\n//       //           }\n//       //       ]\n//       //   }\n//       // }\n//       const items = data.responseData.supportedLanguages;\n\n//       const languages = [];\n//       items.forEach((entry) => {\n//         const item = {};\n//         for (const key in entry) {\n//           item[key] = entry[key];\n//         }\n//         languages.push(item);\n//       });\n\n//       return languages;\n//     })\n//     .catch((error: Error) => {\n//       console.error(error);\n//       throw Error('Fetching languages failed! ' + error.message);\n//     });\n// };\n\n/**\n  Returns full list of news categories available for the selected language.\n  The API doesn't return the always-present \"Most popular\" and \"Latest news\" lists so we add those manually.\n\n  E.g. url: http://high.fi/api/?act=listCategories&usedLanguage=finnish&APIKEY=1234567\n*/\nexport const listCategories = async (\n  domainToUse: string,\n  mostPopularName: string,\n  genericNewsURLPart: string,\n  latestName: string,\n  useToRetrieveLists: string,\n): Promise<Category[]> => {\n  const categories = [];\n  const popular = {\n    depth: 1,\n    htmlFilename: 'top',\n    sectionID: 'top',\n    selected: true,\n    title: mostPopularName,\n  };\n\n  categories.push(popular);\n\n  const latest = {\n    depth: 1,\n    htmlFilename: genericNewsURLPart,\n    sectionID: genericNewsURLPart,\n    selected: true,\n    title: latestName,\n  };\n\n  categories.push(latest);\n\n  const url = `${createApiEndpoint(\n    domainToUse,\n    `/api/?act=listCategories&usedLanguage=${useToRetrieveLists}&APIKEY=${API_KEY}`,\n  )}`;\n  // console.debug(\"api.ts, listLanguages, url=\" + url);\n\n  const apiRequest = new Request(url, init);\n\n  try {\n    const response = await fetch(apiRequest);\n    const data = await response.json();\n\n    const items = data.responseData.categories;\n\n    // FIXME\n    items.forEach((entry: Category) => {\n      const item = {};\n\n      for (const key in entry) {\n        item[key] = entry[key];\n      }\n\n      item.selected = false;\n\n      categories.push(item);\n    });\n\n    return categories;\n  } catch (error) {\n    console.error(error);\n    throw Error(`Fetching languages failed! ${(error as any).message}`);\n  }\n};\n","/* eslint-disable @typescript-eslint/no-use-before-define */\n/* eslint-disable react/forbid-component-props */\nimport React from 'react';\nimport { StyleSheet, Text, View } from 'react-native';\n\nconst SectionHeader = ({ colors, section }) => (\n    <View style={[styles.container, { backgroundColor: colors.background }]}>\n      <Text style={[styles.title, { color: colors.text }]}>{section}</Text>\n    </View>\n  );\n\nconst styles = StyleSheet.create({\n  container: {\n    // flexDirection: 'column',\n    // alignItems: 'flex-start',\n    // justifyContent: 'flex-start',\n    alignSelf: 'stretch',\n    paddingVertical: 5,\n  },\n  title: {\n    fontSize: 15,\n  },\n});\n\nexport default SectionHeader;\n","import { DateTime } from 'luxon';\n\nexport const getOrder = (datetime: string): number => {\n  const startDate = DateTime.fromISO(datetime);\n  const diff = DateTime.now().diff(startDate, ['years', 'months', 'days', 'hours', 'minutes']).toObject();\n  const { days } = diff;\n  const { hours } = diff;\n  const { minutes } = diff;\n\n  if (days === 0) {\n    if (hours === 0) {\n      if (minutes < 0) {\n        return 0;\n      }\n      if (minutes < 5) {\n        return 5;\n      }\n      if (minutes < 15) {\n        return 15;\n      }\n      if (minutes < 30) {\n        return 30;\n      }\n      if (minutes < 45) {\n        return 45;\n      }\n      if (minutes < 60) {\n        return 60;\n      }\n    } else {\n      if (hours === 1) {\n        return 60 * (hours + 1);\n      }\n\n      return 60 * hours;\n    }\n  } else {\n    if (days === 1) {\n      return 1440;\n    }\n\n    return 1440 * days;\n  }\n\n  return 99999;\n};\n\n/*\n * Calculates time difference to current time for given time.\n * \"publishedDateJS\": \"2015-03-27T09:58:13.000Z\",\n */\nexport const timeSince = (datetime: string): string => {\n  const newsTime = DateTime.fromISO(datetime);\n  const diff = newsTime.diffNow(['days', 'hours', 'minutes']).toObject(); // milliseconds\n\n  const days = Math.abs(diff.days);\n  const hours = Math.abs(diff.hours);\n  const minutes = Math.abs(diff.minutes);\n\n  if (days === 0) {\n    if (hours === 0) {\n      if (minutes < 0) return 'Just now';\n      if (minutes < 5) return '< 5 minutes';\n      if (minutes < 15) return '< 15 minutes';\n      if (minutes < 30) return '< 30 minutes';\n      if (minutes < 45) return '< 45 minutes';\n      if (minutes < 60) return '< 60 minutes';\n    } else {\n      if (hours === 1) {\n        return `< ${hours + 1} hours`;\n      }\n\n      return `< ${hours} hours`;\n    }\n  } else {\n    if (days === 1) {\n      return `Yesterday`;\n    }\n\n    return `${days} days`;\n  }\n};\n","/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable @typescript-eslint/no-unsafe-call */\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* eslint-disable no-shadow */\n/* eslint-disable react/no-array-index-key */\n/* eslint-disable react/jsx-no-bind */\n/* eslint-disable react/destructuring-assignment */\n/* eslint-disable react/no-unstable-nested-components */\nimport { useTheme } from '@react-navigation/native';\nimport * as WebBrowser from 'expo-web-browser';\nimport { DateTime } from 'luxon';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { ActivityIndicator, Image, Platform, StyleSheet, Text, TouchableOpacity, View } from 'react-native';\nimport { ScrollView } from 'react-native-gesture-handler';\nimport SectionHeader from '../components/SectionHeader';\nimport { getOrder, timeSince } from '../components/utils';\nimport { CategoryContext } from '../context/CategoryContext';\nimport { createApiEndpoint, init } from '../controllers/api';\nimport { Entry } from '../models/Entry';\n\nconst styles = StyleSheet.create({\n  articleContainer: {\n    alignItems: 'baseline',\n    flex: 1,\n  },\n  container: {\n    flex: 1,\n  },\n  contentContainer: {\n    alignItems: 'baseline',\n  },\n  description: {\n    fontSize: 14,\n    marginTop: 3,\n    minWidth: 0,\n  },\n  entryContainer: {\n    alignItems: 'center',\n    flex: 1,\n    flexDirection: 'row',\n    paddingHorizontal: 10,\n    paddingTop: 10,\n    paddingVertical: 5,\n  },\n  entryContent: {\n    flex: 1,\n    flexDirection: 'column',\n    paddingHorizontal: 10,\n    // borderColor: 'red',\n    // borderWidth: 1,\n  },\n  entryImage: {\n    alignItems: 'flex-start',\n    height: 100,\n    width: 100,\n  },\n  footerContainer: {\n    bottom: 5,\n    left: 0,\n    position: 'absolute',\n    right: 0,\n    ...Platform.select({\n      android: {\n        elevation: 20,\n      },\n      ios: {\n        shadowColor: 'black',\n        shadowOffset: { height: -3, width: 0 },\n        shadowOpacity: 0.1,\n        shadowRadius: 3,\n      },\n    }),\n    alignItems: 'center',\n    // backgroundColor: '#fbfbfb',\n  },\n  footerInfoText: {\n    color: 'rgba(96,100,109, 1)',\n    fontSize: 10,\n    textAlign: 'center',\n  },\n  linkText: {\n    color: '#2e78b7',\n    fontSize: 9,\n  },\n  source: {\n    fontSize: 12,\n  },\n  title: {\n    fontSize: 15,\n    minWidth: 0,\n  },\n});\n\ninterface Props {\n  isError: boolean;\n  isLoading: boolean;\n}\n\ninterface ISections {\n  section: [Entry];\n}\n\nconst Homescreen = ({ navigation }) => {\n  const { htmlFilename } = useContext(CategoryContext);\n  const [sections, setSections] = useState<ISections[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n\n  const { colors } = useTheme();\n\n  // 'https://fi.high.fi/uutiset/json-private?APIKEY=1234567890';\n  useEffect(() => {\n    const apiRequest = new Request(createApiEndpoint('fi.high.fi', `${htmlFilename}`), init);\n\n    fetch(apiRequest)\n      .then(async (response) => response.json())\n      .then((data): [Entry] => {\n        // console.log(data)\n        const items = data.responseData.feed.entries;\n\n        return items;\n      })\n      .then((items) => {\n        setSections([]);\n\n        // Top items are not grouped by time but by ranking\n        if (htmlFilename === 'top') {\n          let i = 0;\n          let range = ' 1 ..10';\n\n          items.forEach((entry: Entry) => {\n            if (i < 10) {\n              range = ' 1 ..10';\n            } else if (i < 20) {\n              range = ' 11 ..20';\n            } else if (i < 30) {\n              range = ' 21 ..30';\n            } else if (i < 40) {\n              range = ' 31 ..40';\n            } else if (i < 50) {\n              range = ' 41 ..50';\n            } else if (i < 60) {\n              range = ' 51 ..60';\n            } else if (i < 70) {\n              range = ' 61 ..70';\n            } else {\n              range = ' 70 ...';\n            }\n\n            if (!sections[range]) {\n              sections[range] = [entry];\n            } else {\n              sections[range].push(entry);\n            }\n\n            i += 1;\n          });\n\n          setSections(sections);\n          setLoading(false);\n          setError(false);\n        } else {\n          const newsEntries = [] as Entry[];\n\n          // eslint-disable-next-line array-callback-return\n          items.map((item) => {\n            const article = {\n              ...item,\n              orderNo: getOrder(item.publishedDateJS),\n              publishedDate: DateTime.fromISO(item.publishedDateJS).toLocal().toFormat('ccc d.m.yyyy HH:mm'),\n              timeSince: timeSince(item.publishedDateJS),\n            };\n\n            newsEntries.push(article);\n          });\n\n          // Other categories are grouped by time\n          newsEntries.sort((a, b) => a.orderNo - b.orderNo);\n\n          newsEntries.forEach((entry) => {\n            // Put each item in a section\n            // If we don't have section for particular time, create new one,\n            // Otherwise just add item to existing section\n            if (!sections[entry.timeSince]) {\n              sections[entry.timeSince] = [entry];\n            } else {\n              sections[entry.timeSince].push(entry);\n            }\n          });\n\n          setSections(sections);\n          setLoading(false);\n          setError(false);\n        }\n      })\n      .catch((e) => {\n        // eslint-disable-next-line no-console\n        console.error(e);\n        setLoading(false);\n        setError(true);\n      })\n      .finally(() => setLoading(false));\n  }, []);\n\n  // const renderItems = ({artileID, title, shortDescription}) => {\n  //   return (\n  //     <View key={artileID}>\n  //         <Text>\n  //           {title}\n  //         </Text>\n  //         <Text>\n  //           {shortDescription}\n  //         </Text>\n  //     </View>\n  //   )\n  // }\n\n  const Results = (props: Props) => {\n    if (props.isLoading) {\n      return <ActivityIndicator animating={true} />;\n    }\n\n    if (props.isError) {\n      return <Text>Failed to load news!</Text>;\n    }\n\n    return (\n      <ScrollView\n        contentContainerStyle={[styles.contentContainer]}\n        style={[styles.container, { backgroundColor: colors.card }]}\n      >\n        {Object.keys(sections).map((section, index) => (\n          <View key={index} style={styles.articleContainer}>\n            <SectionHeader colors={colors} section={section} />\n            {sections[section].map((article: Entry, index) => (\n              // console.log({ article });\n              <TouchableOpacity\n                key={index}\n                onPress={() => {\n                  navigation.navigate('WebView', {\n                    link: article.link,\n                    title: article.title,\n                  });\n                  WebBrowser.openBrowserAsync(article.link).catch(console.error);\n                }}\n                style={styles.entryContainer}\n              >\n                <Image source={{ uri: article.picture }} style={[styles.entryImage]} />\n                <View style={styles.entryContent}>\n                  <Text style={[styles.title, { color: colors.text }]}>{article.title}</Text>\n                  <Text style={[styles.source, { color: colors.text }]}>\n                    {article.author} - {article.publishedDate}\n                  </Text>\n                  <Text style={[styles.description, { color: colors.text }]}>{article.shortDescription}</Text>\n                </View>\n              </TouchableOpacity>\n            ))}\n          </View>\n        ))}\n      </ScrollView>\n    );\n  };\n\n  function handlePoweredPress() {\n    // WebBrowser.openBrowserAsync('https://high.fi');\n    navigation.navigate('WebView', {\n      link: 'https://high.fi',\n      title: 'High.fi',\n    });\n  }\n\n  return (\n    <View style={styles.container}>\n      <Results isError={error} isLoading={loading} />\n\n      <View style={[styles.footerContainer, { backgroundColor: colors.card }]}>\n        <TouchableOpacity onPress={handlePoweredPress}>\n          <Text style={styles.footerInfoText}>\n            Powered by <Text style={styles.linkText}>high.fi</Text>\n          </Text>\n        </TouchableOpacity>\n      </View>\n    </View>\n  );\n};\n\nexport default Homescreen;\n","/* eslint-disable react/forbid-component-props */\nimport React from 'react';\nimport { ColorValue, StyleSheet, Switch, Text, View } from 'react-native';\n\nconst style = StyleSheet.create({\n  defaultContainerStyle: {\n    alignItems: 'center',\n    backgroundColor: 'white',\n    flexDirection: 'row',\n    minHeight: 50,\n    padding: 0,\n  },\n  defaultDescriptionStyle: {\n    flex: 0,\n    fontSize: 12,\n    paddingLeft: 16,\n    paddingRight: 8,\n  },\n  defaultDisabledOverlayStyle: {\n    backgroundColor: 'rgba(255,255,255,0.6)',\n    bottom: 0,\n    left: 0,\n    position: 'absolute',\n    right: 0,\n    top: 0,\n  },\n  defaultSwitchWrapperStyle: {\n    flex: 0,\n    flexDirection: 'row',\n    marginRight: 64,\n    paddingLeft: 8,\n  },\n  defaultTitleStyle: {\n    flex: 0,\n    fontSize: 16,\n    paddingLeft: 16,\n    paddingRight: 8,\n  },\n  titleWrapper: { flex: 1, position: 'relative' },\n});\n\nconst SettingsSwitch: React.FC<{\n  // containerProps?: object;\n  containerStyle?: object;\n  description?: string;\n  // descriptionProps?: object;\n  descriptionStyle?: object;\n  disabled?: boolean;\n  // disabledOverlayStyle?: object;\n  onValueChange?: any;\n  // switchProps?: object;\n  // switchWrapperProps?: object;\n  // switchWrapperStyle?: object;\n  title: string;\n  // titleProps?: object;\n  titleStyle?: object;\n  trackColor?: { false?: ColorValue | null | undefined; true?: ColorValue | null | undefined } | undefined;\n  value: boolean;\n}> = ({\n  containerStyle,\n  description,\n  descriptionStyle,\n  disabled,\n  onValueChange,\n  title,\n  titleStyle,\n  trackColor,\n  value,\n}) => (\n  <View style={[style.defaultContainerStyle, containerStyle]}>\n    <View style={style.titleWrapper}>\n      <Text style={[style.defaultTitleStyle, titleStyle]}>{title}</Text>\n      {description ? <Text style={[style.defaultDescriptionStyle, descriptionStyle]}>{description}</Text> : null}\n      {disabled ? <View style={[style.defaultDisabledOverlayStyle]} /> : null}\n    </View>\n    <View style={[style.defaultSwitchWrapperStyle]}>\n      <Switch disabled={disabled} onValueChange={onValueChange} trackColor={trackColor} value={value} />\n    </View>\n  </View>\n);\n\nexport default SettingsSwitch;\n","/* eslint-disable @typescript-eslint/no-empty-function */\n/* eslint-disable @typescript-eslint/no-use-before-define */\n/* eslint-disable react/function-component-definition */\nimport { Ionicons } from '@expo/vector-icons';\nimport { useTheme } from '@react-navigation/native';\n// import * as WebBrowser from 'expo-web-browser';\nimport React, { useState } from 'react';\nimport { StyleSheet, Text, View } from 'react-native';\nimport { RectButton, ScrollView } from 'react-native-gesture-handler';\nimport SettingsSwitch from '../components/Switch';\n\nexport default function SettingsScreen() {\n  const [isMobileModeEnabled, setIsMobileModeEnabled] = useState(false);\n  const { colors } = useTheme();\n\n  return (\n    <ScrollView\n      contentContainerStyle={[styles.contentContainer]}\n      style={[styles.container, { backgroundColor: colors.card }]}\n    >\n      <View key=\"application\">\n        <Text style={[styles.titleStyle, { color: colors.text }]}>Information</Text>\n        <View>\n          <OptionButton\n            icon=\"md-compass\"\n            isLastOption={true}\n            label=\"Highlakka on GitHub\"\n            onPress={\n              () => {}\n              // WebBrowser.openBrowserAsync(\n              //   'https://github.com/walokra/highlakka',\n              // )\n            }\n          />\n        </View>\n      </View>\n\n      <View>\n        <Text style={[styles.titleStyle, { color: colors.text }]}>General</Text>\n        <SettingsSwitch\n          containerStyle={{ backgroundColor: colors.card }}\n          onValueChange={(value: any) => {\n            console.log('use mobile mode:', value);\n            setIsMobileModeEnabled(value);\n          }}\n          title=\"Use mobile mode\"\n          titleStyle={{ color: colors.text }}\n          value={isMobileModeEnabled}\n        />\n      </View>\n    </ScrollView>\n  );\n}\n\nconst OptionButton = ({ icon, isLastOption, label, onPress }) => {\n  const { colors } = useTheme();\n\n  return (\n    <RectButton\n      onPress={onPress}\n      style={[styles.option, isLastOption && styles.lastOption, { backgroundColor: colors.card }]}\n    >\n      <View style={{ flexDirection: 'row' }}>\n        <View style={styles.optionIconContainer}>\n          <Ionicons color=\"rgba(0,0,0,0.35)\" name={icon} size={22} />\n        </View>\n        <View>\n          <Text style={[styles.optionText, { color: colors.text }]}>{label}</Text>\n        </View>\n      </View>\n    </RectButton>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#fafafa',\n    flex: 1,\n    flexDirection: 'row',\n    minHeight: 50,\n  },\n  contentContainer: {\n    flex: 1,\n    minHeight: 50,\n    paddingTop: 15,\n    // alignItems: 'center',\n  },\n  lastOption: {},\n  option: {\n    backgroundColor: '#fdfdfd',\n    borderBottomWidth: 0,\n    borderColor: '#ededed',\n    paddingHorizontal: 5,\n    paddingVertical: 5,\n  },\n  optionIconContainer: {\n    marginLeft: 12,\n    marginRight: 12,\n  },\n  optionText: {\n    alignSelf: 'flex-start',\n    fontSize: 15,\n    marginTop: 1,\n  },\n  titleStyle: {\n    flex: 0,\n    fontSize: 16,\n    paddingLeft: 16,\n    paddingRight: 8,\n  },\n});\n","/* eslint-disable jsx-a11y/iframe-has-title */\n/* eslint-disable import/prefer-default-export */\nimport React, { CSSProperties } from 'react';\nimport { Platform, StyleSheet, View } from 'react-native';\nimport { WebView } from 'react-native-webview';\n\nconst iFrameStyles: CSSProperties = {\n  height: '100%',\n  top: 0,\n  width: '100%',\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    height: '100%',\n    overflow: 'hidden',\n    width: '100%',\n  },\n});\n\nexport const NativeWebView = ({ target }): JSX.Element => {\n  if (Platform.OS === 'web') {\n    return <iframe src={target} style={iFrameStyles} />;\n  }\n\n  return (\n    <View style={styles.container}>\n      <WebView\n        scalesPageToFit={true}\n        source={{ uri: target }}\n        // javaScriptEnabled\n        // domStorageEnabled\n        // allowFileAccessFromFileURLs\n        startInLoadingState={true}\n        // originWhitelist={['*']}\n        // mixedContentMode=\"compatibility\"\n        // useWebKit={true}\n      />\n    </View>\n  );\n};\n","/* eslint-disable @typescript-eslint/no-use-before-define */\n/* eslint-disable react/forbid-component-props */\n/* eslint-disable react/function-component-definition */\nimport React from 'react';\nimport { StyleSheet, View } from 'react-native';\nimport { NativeWebView } from '../components/NativeWebview';\n\nexport default function WebViewScreen({ route }) {\n  const { link } = route.params;\n\n  return (\n    <View style={styles.container}>\n      <NativeWebView target={link} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    backgroundColor: '#fff',\n    flex: 1,\n    justifyContent: 'center',\n  },\n});\n","/* eslint-disable no-nested-ternary */\n/* eslint-disable react/function-component-definition */\n/* eslint-disable react/no-children-prop */\n/* eslint-disable @typescript-eslint/no-use-before-define */\n/* eslint-disable react/forbid-component-props */\n/* eslint-disable react/destructuring-assignment */\n/* eslint-disable react/jsx-no-constructed-context-values */\n/* eslint-disable @typescript-eslint/no-unsafe-assignment */\nimport { createDrawerNavigator, DrawerContentScrollView, DrawerItemList } from '@react-navigation/drawer';\nimport { DarkTheme, DefaultTheme, NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { registerRootComponent } from 'expo';\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useContext, useEffect, useState } from 'react';\nimport {\n  ActivityIndicator,\n  // Dimensions,\n  StyleSheet,\n  Text,\n  useColorScheme,\n  View,\n} from 'react-native';\nimport { SafeAreaProvider, SafeAreaView } from 'react-native-safe-area-context';\nimport Header from './components/Header';\nimport { CategoryContext } from './context/CategoryContext';\nimport ThemeProvider, { ThemeContext } from './context/ThemeProvider';\nimport { listCategories } from './controllers/api';\nimport useCachedResources from './hooks/useCachedResources';\nimport { Category } from './models/Category';\nimport HomeScreen from './screens/HomeScreen';\nimport SettingsScreen from './screens/SettingsScreen';\nimport WebViewScreen from './screens/WebViewScreen';\n\nconst CustomDrawerContent = (props: any) => (\n  <DrawerContentScrollView {...props}>\n    <Header {...props} />\n\n    <DrawerItemList {...props} />\n  </DrawerContentScrollView>\n);\n\nconst Drawer = createDrawerNavigator();\nconst Stack = createStackNavigator();\n\nconst Root = (props: any): JSX.Element => {\n  const { htmlFilename, title } = props.item;\n\n  return (\n    <CategoryContext.Provider value={{ htmlFilename, title }}>\n      <Stack.Navigator>\n        <Stack.Screen\n          component={HomeScreen}\n          name=\"Highlakka\"\n          options={{\n            title: `Highlakka: ${title}`,\n          }}\n        />\n        <Stack.Screen\n          component={SettingsScreen}\n          name=\"Settings\"\n          options={{\n            title: `Settings`,\n          }}\n        />\n        <Stack.Screen\n          component={WebViewScreen}\n          name=\"WebView\"\n          options={({ route }) => ({ title: (route.params as any).title })}\n        />\n      </Stack.Navigator>\n    </CategoryContext.Provider>\n  );\n};\n\nconst EmptyScreen = () => <View style={{ alignItems: 'center', flex: 1, justifyContent: 'center' }} />;\n\nconst App = () => {\n  const isLoadingComplete = useCachedResources();\n  const colorScheme = useColorScheme();\n  // const dimensions = Dimensions.get('window');\n  // const isLargeScreen = dimensions.width >= 768;\n\n  const theme = useContext(ThemeContext);\n  const darkModeEnabled = theme.state.colorScheme === 'dark';\n\n  // const HaikalaTheme =\n  //   theme.state.colorScheme === 'dark'\n  //     ? {\n  //         ...DarkTheme,\n  //         colors: {\n  //           ...DarkTheme.colors,\n  //           // primary: 'rgb(255, 45, 85)',\n  //         },\n  //         dark: true,\n  //       }\n  //     : {\n  //         ...DefaultTheme,\n  //         colors: {\n  //           ...DarkTheme.colors,\n  //           // primary: 'rgb(255, 45, 85)',\n  //         },\n  //         dark: false,\n  //       };\n\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n\n  const themeStatusBarStyle =\n    colorScheme === 'light' ? (darkModeEnabled ? 'dark' : 'light') : !darkModeEnabled ? 'light' : 'dark';\n\n  useEffect(() => {\n    // const languages = listLanguages(\"high.fi\")\n    const domainToUse = 'fi.high.fi';\n\n    const fetchCategories = async () => {\n      const cat = await listCategories(domainToUse, 'Suosituimmat', 'uutiset', 'Uusimmat', 'finnish');\n\n      setCategories(cat);\n      setLoading(false);\n      setError(false);\n    };\n\n    fetchCategories().catch((e) => {\n      console.error(e);\n      setLoading(false);\n      setError(true);\n    });\n  }, []);\n\n  if (!isLoadingComplete) {\n    return null;\n  }\n\n  if (loading) {\n    return (\n      <SafeAreaProvider>\n        <SafeAreaView style={[styles.container]}>\n          <ActivityIndicator animating={true} />\n        </SafeAreaView>\n      </SafeAreaProvider>\n    );\n  }\n\n  if (error) {\n    return (\n      <SafeAreaProvider>\n        <SafeAreaView style={[styles.container]}>\n          <Text>Failed to load news!</Text>\n        </SafeAreaView>\n      </SafeAreaProvider>\n    );\n  }\n\n  return (\n    <SafeAreaProvider>\n      <NavigationContainer\n        theme={\n          colorScheme === 'light'\n            ? darkModeEnabled\n              ? DarkTheme\n              : DefaultTheme\n            : !darkModeEnabled\n            ? DefaultTheme\n            : DarkTheme\n        }\n      >\n        <View style={[styles.container]}>\n          <StatusBar style={themeStatusBarStyle} />\n\n          <Drawer.Navigator\n            drawerContent={CustomDrawerContent}\n            // drawerStyle={isLargeScreen ? null : { width: '100%' }}\n            // drawerType={isLargeScreen ? 'permanent' : 'back'}\n            initialRouteName=\"Root\"\n            // overlayColor=\"transparent\"\n          >\n            {categories && categories.length > 0 ? (\n              categories.map((item: Category) => (\n                <Drawer.Screen\n                  children={() => <Root item={item} />}\n                  key={item.sectionID}\n                  name={`${item.title}_${item.sectionID}`}\n                  options={{ drawerLabel: item.title }}\n                />\n              ))\n            ) : (\n              <Drawer.Screen component={EmptyScreen} name=\"empty\" />\n            )}\n          </Drawer.Navigator>\n        </View>\n      </NavigationContainer>\n    </SafeAreaProvider>\n  );\n};\n\nexport default function AppContainer(): JSX.Element {\n  return (\n    <ThemeProvider>\n      <App />\n    </ThemeProvider>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#fff',\n    flex: 1,\n  },\n  header: {\n    height: 50,\n  },\n});\n\nregisterRootComponent(App);\n","/* eslint-disable global-require */\n/* eslint-disable @typescript-eslint/no-unsafe-assignment */\n/* eslint-disable @typescript-eslint/no-floating-promises */\nimport { Ionicons } from '@expo/vector-icons';\nimport * as Font from 'expo-font';\nimport * as SplashScreen from 'expo-splash-screen';\nimport * as React from 'react';\n\nexport default function useCachedResources() {\n  const [isLoadingComplete, setLoadingComplete] = React.useState(false);\n\n  // Load any resources or data that we need prior to rendering the app\n  React.useEffect(() => {\n    async function loadResourcesAndDataAsync() {\n      try {\n        SplashScreen.preventAutoHideAsync();\n\n        // Load fonts\n        await Font.loadAsync({\n          ...Ionicons.font,\n          'space-mono': require('../assets/fonts/SpaceMono-Regular.ttf'),\n        });\n      } catch (e) {\n        // We might want to provide this error information to an error reporting service\n        console.warn(e);\n      } finally {\n        setLoadingComplete(true);\n        SplashScreen.hideAsync();\n      }\n    }\n\n    loadResourcesAndDataAsync();\n  }, []);\n\n  return isLoadingComplete;\n}\n","module.exports = __webpack_public_path__ + \"./fonts/SpaceMono-Regular.ttf\";"],"sourceRoot":""}